---
# tasks file for bootstrap-mac
- name: If this command hangs, your Become Password is incorrect
  shell: echo "If this command hangs, your Become Password is incorrect"
  become: yes
  changed_when: no

- name: Set additional facts
  import_tasks: set_facts.yml

- name: Package baselines
  import_tasks: packages.yml
  tags: update

- name: Apply PJ Environment settings
  import_tasks: pj_environment.yml

- name: Apply SSH Settings
  import_tasks: ssh.yml
  when: harden_ssh

- name: Protect Screen Sharing to only localhost
  import_tasks: macos_firewall_screen_sharing.yml
  when: protect_screen_sharing

- name: Power settings for macOS
  import_tasks: macos_power_settings.yml

- name: Check SMB Mounts
  include_tasks: smb_mounts.yml
  loop: "{{ smb_mounts }}"

- name: Check Parallels
  import_tasks: parallels_check.yml
  when: check_parallels